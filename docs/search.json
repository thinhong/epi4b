[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Epidemiological data analysis for babies",
    "section": "",
    "text": "Preface\nA model is a simplified representation of a complex phenomenon (Vynnycky & White, 2010), focusing on key factors and making simplifying assumptions. These assumptions must be valid for the model to be accurate.\nHow do we know if an assumption holds true? Assumptions act as our hypotheses, which we can test by analysing the data. This book guides you through the methods and visualisations to validate assumptions in epidemiological models.\n\n\n\n\nVynnycky, E., & White, R. (2010). An Introduction to Infectious Disease Modelling. OUP Oxford.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "age.html",
    "href": "age.html",
    "title": "1  Age distribution",
    "section": "",
    "text": "1.1 Time series stacked bar\nWe want to see if the age distribution changes during the epidemic. The age categories are in age_cat, and we will look at how they change weekly. First, we will group the onset days into weeks using floor_date() from the lubridate package.\ndf$week_onset &lt;- floor_date(df$date_onset, \"week\")\nCompute the weekly percentage for each group.\ndf_plot &lt;- df |&gt; \n  filter(!is.na(week_onset), !is.na(age_cat)) |&gt; \n  count(week_onset, age_cat) |&gt; \n  group_by(week_onset) |&gt; \n  mutate(prop = n / sum(n)) |&gt; \n  data.frame()\n\n# Use complete() to fill missing groups with 0\ndf_plot &lt;- df_plot |&gt; \n  complete(week_onset, age_cat, fill = list(n = 0, prop = 0))\nPlot it with geom_bar().\nggplot(df_plot, aes(x = week_onset, y = prop, fill = age_cat)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_jco() +\n  theme_minimal()\nYou might want to reverse the order so that ages 0-4 are at the bottom and 70+ at the top. Do this by setting the position argument. Also, reverse the legend to match the new plot order.\nggplot(df_plot, aes(x = week_onset, y = prop, fill = age_cat)) +\n  geom_bar(stat = \"identity\", position = position_stack(reverse = TRUE)) +\n  guides(fill = guide_legend(reverse = TRUE)) +\n  scale_fill_jco() +\n  theme_minimal()",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Age distribution</span>"
    ]
  },
  {
    "objectID": "viz.html",
    "href": "viz.html",
    "title": "2  Advanced visualisation",
    "section": "",
    "text": "2.1 Font family\ninstall.packages(\"systemfonts\")\nUse systemfonts::system_fonts() to manage the fonts installed on your computer.\nsystemfonts::system_fonts() |&gt; View()\nIf it’s a google font: Navigate to Google Fonts &gt; Search &gt; Download &gt; Unzip the file &gt; Select all the .ttf files &gt; Right click and select Install. R tends to play nicer with .ttf fonts than other types of fonts.\nAfter installing, go to Session &gt; Restart R &gt; Use systemfonts::system_fonts() |&gt; View() to search the font. If it’s there, you are safe to use.\nSet the graphics device to AGG. Tools &gt; Global options &gt; General &gt; Graphics &gt; Backend: AGG.\nSet the graphics device at the start of your Quarto file.\nknitr::opts_chunk$set(echo = TRUE, dev = \"ragg_png\", dpi = 400)\nLet’s try an example.\nCode\np1 &lt;- trees |&gt;\n  ggplot(aes(\n    x = Girth,\n    y = Height,\n    size = Volume,\n    colour = Volume\n  )) +\n  geom_point() +\n  labs(title = \"Nunito Sans\") +\n  theme_minimal() +\n  theme(text = element_text(family = \"Nunito Sans\"), legend.position = \"none\")\np2 &lt;- trees |&gt;\n  ggplot(aes(\n    x = Girth,\n    y = Height,\n    size = Volume,\n    colour = Volume\n  )) +\n  geom_point() +\n  labs(title = \"Karla\") +\n  theme_minimal() +\n  theme(text = element_text(family = \"Karla\"), legend.position = \"none\")\np1 | p2",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Advanced visualisation</span>"
    ]
  },
  {
    "objectID": "viz.html#font-family",
    "href": "viz.html#font-family",
    "title": "2  Advanced visualisation",
    "section": "",
    "text": "Note\n\n\n\nSource: Cara Thompson. Getting Fonts to Work in R. January 12, 2024.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Advanced visualisation</span>"
    ]
  },
  {
    "objectID": "measles.html",
    "href": "measles.html",
    "title": "3  Measles",
    "section": "",
    "text": "3.1 Monthly global measles data\nWHO provides a Provisional measles and rubella data section where you can download the monthly number of measles cases reported worldwide.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Measles</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Vynnycky, E., & White, R. (2010). An Introduction to Infectious\nDisease Modelling. OUP Oxford.",
    "crumbs": [
      "References"
    ]
  }
]